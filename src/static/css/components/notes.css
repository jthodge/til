/* Marginnotes and Sidenotes Components */

/* Marginnotes - Tufte CSS integration */
.marginnote {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  transition: opacity var(--transition-base);
}

/* Simple marginnotes (no toggle) */
.simple-marginnote {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

/* Marginnote hover effects */
h3 .marginnote {
  opacity: 0.7;
}

h3:hover .marginnote {
  opacity: 1;
}

/* Sidenotes */
.sidenote {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.sidenote-number {
  counter-increment: sidenote-counter;
}

.sidenote-number:after {
  content: counter(sidenote-counter);
  font-size: var(--font-size-xs);
  vertical-align: super;
  color: var(--color-primary);
}

/* Toggle for mobile */
.margin-toggle {
  display: none;
}

/* Mobile notes adjustments */
@media (max-width: var(--breakpoint-mobile)) {
  .marginnote,
  .sidenote {
    display: none;
  }
  
  .margin-toggle:checked + .marginnote,
  .margin-toggle:checked + .sidenote {
    display: block;
    float: none;
    width: 100%;
    margin: var(--space-md) 0;
    padding: var(--space-md);
    background-color: var(--color-background-alt);
    border-left: 3px solid var(--color-border);
    border-radius: var(--radius-sm);
  }
  
  label.margin-toggle {
    display: inline;
    cursor: pointer;
    color: var(--color-primary);
    text-decoration: underline;
  }
  
  label.margin-toggle:after {
    content: " [+]";
  }
  
  .margin-toggle:checked ~ label.margin-toggle:after {
    content: " [-]";
  }
}