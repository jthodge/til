{% extends "til_base.html" %}

{% set tils = sql("""
    select * from til where path = :topic || '_' || :slug || '.md'
""", {"topic": topic, "slug": slug}, database="til") %}

{% set til = tils[0] if tils else None %}
{% if not til %}
    {% set raised = raise_404("TIL not found") %}
{% endif %}

{% block title %}{{ til.title }} | Taylor Hodge TILs{% endblock %}

{% block extra_head %}
{% import "macros.html" as macros %}
<link rel="stylesheet" href="https://til.taylorhodge.md/static/github-light.css" />
{{ macros.meta_tags(
    title=til.title,
    description=til.summary,
    url="https://til.taylorhodge.me/" ~ til.topic ~ "/" ~ til.slug,
    type="article"
) }}
{% endblock %}

{% block body %}
<h1>{{ til.title }}</h1>

{{ til.html|safe }}
{% endblock %}